[{"data":1,"prerenderedAt":583},["ShallowReactive",2],{"navigation_docs_it":3,"-it-auth-module-getting-started":30,"-it-auth-module-getting-started-surround":579},[4],{"title":5,"path":6,"stem":7,"children":8,"page":29},"Auth Module","/it/auth-module","it/1.auth-module",[9,14,19,24],{"title":10,"path":11,"stem":12,"icon":13},"Auth Module: Getting Started","/it/auth-module/getting-started","it/1.auth-module/1.getting-started","i-lucide-user-lock",{"title":15,"path":16,"stem":17,"icon":18},"Client Guide","/it/auth-module/client-guide","it/1.auth-module/2.client-guide","i-lucide-chromium",{"title":20,"path":21,"stem":22,"icon":23},"Auth Module: Server Guide","/it/auth-module/server-guide","it/1.auth-module/3.server-guide","i-lucide-server",{"title":25,"path":26,"stem":27,"icon":28},"Auth Module: FAQ","/it/auth-module/faq","it/1.auth-module/9.faq","i-lucide-message-circle-question-mark",false,{"id":31,"title":10,"body":32,"description":569,"extension":570,"links":571,"meta":575,"navigation":576,"path":11,"seo":577,"stem":12,"__hash__":578},"docs_it/it/1.auth-module/1.getting-started.md",{"type":33,"value":34,"toc":560},"minimark",[35,39,42,45,50,85,89,92,105,226,245,249,252,314,317,321,332,358,362,511,515,538,542,556],[36,37,38],"p",{},"Jamflow Auth Module integra le applicazioni Nuxt con il Jamflow Auth Service. Centralizza l'autenticazione, l'appartenenza ai team e i controlli di permessi senza richiedere una connessione al database per ogni validazione. Invece, utilizza token JWT per ID, accesso e refresh emessi dall'Auth Service ed espone utility amichevoli sia sul client che sul server.",[36,40,41],{},"Il modello dei permessi è ispirato a Google Zanzibar e permette di definire regole di controllo accessi molto dettagliate basate su ruoli utente, appartenenza a team e relazioni tra risorse.",[43,44],"u-",{},[46,47,49],"h2",{"id":48},"cosa-ottieni","Cosa ottieni",[51,52,53,57,69,72,82],"ul",{},[54,55,56],"li",{},"Bootstrap automatico della sessione durante SSR e idratazione SPA",[54,58,59,60,64,65,68],{},"Composables Vue tipizzati (",[61,62,63],"code",{},"useUserSession",", ",[61,66,67],{},"usePermissions",") per lavorare con token e permessi",[54,70,71],{},"Utility Nitro per verificare sessioni, proteggere route ed effettuare richieste service-to-service",[54,73,74,75,64,78,81],{},"Endpoint proxy (",[61,76,77],{},"/_auth-api/**",[61,79,80],{},"/.well-known/jwks.json",") per mantenere i cookie sul tuo dominio e evitare problemi CORS",[54,83,84],{},"Superficie di configurazione minima che si collega ai tenant dell'Auth Service gestiti dalla tua azienda",[46,86,88],{"id":87},"quickstart","Quickstart",[36,90,91],{},"Una volta ricevuto un deployment dell'Auth Service, puoi installare l'Auth Module nelle tue applicazioni Nuxt.",[93,94,95,98],"ol",{},[54,96,97],{},"Installa il modulo tramite il package manager preferito.",[54,99,100,101,104],{},"Registralo in ",[61,102,103],{},"nuxt.config.ts",":",[106,107,112],"pre",{"className":108,"code":109,"language":110,"meta":111,"style":111},"language-ts shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","export default defineNuxtConfig({\n  modules: ['@jamflow/auth-module'],\n  auth: {\n    issuer: 'https://\u003CYOUR-PROJECT>.auth.jamflow.app',\n    audience: 'https://your-project.com',\n  },\n})\n","ts","",[61,113,114,138,165,176,194,211,217],{"__ignoreMap":111},[115,116,119,123,126,130,134],"span",{"class":117,"line":118},"line",1,[115,120,122],{"class":121},"s7zQu","export",[115,124,125],{"class":121}," default",[115,127,129],{"class":128},"s2Zo4"," defineNuxtConfig",[115,131,133],{"class":132},"sTEyZ","(",[115,135,137],{"class":136},"sMK4o","{\n",[115,139,141,145,147,150,153,157,159,162],{"class":117,"line":140},2,[115,142,144],{"class":143},"swJcz","  modules",[115,146,104],{"class":136},[115,148,149],{"class":132}," [",[115,151,152],{"class":136},"'",[115,154,156],{"class":155},"sfazB","@jamflow/auth-module",[115,158,152],{"class":136},[115,160,161],{"class":132},"]",[115,163,164],{"class":136},",\n",[115,166,168,171,173],{"class":117,"line":167},3,[115,169,170],{"class":143},"  auth",[115,172,104],{"class":136},[115,174,175],{"class":136}," {\n",[115,177,179,182,184,187,190,192],{"class":117,"line":178},4,[115,180,181],{"class":143},"    issuer",[115,183,104],{"class":136},[115,185,186],{"class":136}," '",[115,188,189],{"class":155},"https://\u003CYOUR-PROJECT>.auth.jamflow.app",[115,191,152],{"class":136},[115,193,164],{"class":136},[115,195,197,200,202,204,207,209],{"class":117,"line":196},5,[115,198,199],{"class":143},"    audience",[115,201,104],{"class":136},[115,203,186],{"class":136},[115,205,206],{"class":155},"https://your-project.com",[115,208,152],{"class":136},[115,210,164],{"class":136},[115,212,214],{"class":117,"line":213},6,[115,215,216],{"class":136},"  },\n",[115,218,220,223],{"class":117,"line":219},7,[115,221,222],{"class":136},"}",[115,224,225],{"class":132},")\n",[93,227,228,231],{"start":167},[54,229,230],{},"Assicurati che l'ambiente permetta di impostare cookie sicuri per l'host che serve la tua app Nuxt.",[54,232,233,234,239,240,244],{},"Usa la ",[235,236,238],"a",{"href":237},"./client-guide","Guida client"," e la ",[235,241,243],{"href":242},"./server-guide","Guida server"," fornite per collegare i flussi utenti.",[46,246,248],{"id":247},"modello-dei-token","Modello dei token",[36,250,251],{},"L'Auth Service emette tre cookie:",[253,254,255,271],"table",{},[256,257,258],"thead",{},[259,260,261,265,268],"tr",{},[262,263,264],"th",{},"Token",[262,266,267],{},"Cookie di default",[262,269,270],{},"Scopo",[272,273,274,288,301],"tbody",{},[259,275,276,280,285],{},[277,278,279],"td",{},"ID token",[277,281,282],{},[61,283,284],{},"j_id_token",[277,286,287],{},"Identifica l'utente autenticato (nome, email, team, ecc.).",[259,289,290,293,298],{},[277,291,292],{},"Access token",[277,294,295],{},[61,296,297],{},"j_access_token",[277,299,300],{},"Trasporta stringhe di permessi serializzate per l'autorizzazione.",[259,302,303,306,311],{},[277,304,305],{},"Refresh token",[277,307,308],{},[61,309,310],{},"j_refresh_token",[277,312,313],{},"Permette di rinnovare ID/access token senza riautenticazione.",[36,315,316],{},"Il modulo verifica i token usando il documento JWKS esposto dal tuo Auth Service. La verifica è automatica e la chiave viene messa in cache per un'ora.",[46,318,320],{"id":319},"architettura-a-colpo-docchio","Architettura a colpo d'occhio",[322,323,324],"mermaid",{},[106,325,330],{"className":326,"code":328,"language":329},[327],"language-text","flowchart LR\n  subgraph Browser\n    A[Vue component]\n  end\n  subgraph NuxtApp[Nuxt Nitro]\n    B[useUserSession]\n    C[usePermissions]\n    D[/requireUserSession, requireUserPermission/]\n    E[Proxy routes]\n  end\n  subgraph AuthService\n    F[\"/api/auth/*\" endpoints]\n    G[\"/.well-known/jwks.json\"]\n  end\n\n  A --> B\n  A --> C\n  B & C --> E --> F\n  D --> E\n  E --> G\n","text",[61,331,328],{"__ignoreMap":111},[51,333,334,345,352],{},[54,335,336,337,340,341,344],{},"I composables client parlano sempre a ",[61,338,339],{},"/_auth-api/...",", che fa da proxy verso ",[61,342,343],{},"${issuer}/api/...",".",[54,346,347,348,351],{},"Le utility server fanno lo stesso e inoltre mettono in cache i token decodificati nel contesto ",[61,349,350],{},"H3Event"," per il riutilizzo.",[54,353,354,355,357],{},"Le chiavi JWKS sono proxate tramite ",[61,356,80],{}," per evitare richieste cross-origin dal browser.",[46,359,361],{"id":360},"riferimento-di-configurazione","Riferimento di configurazione",[253,363,364,377],{},[256,365,366],{},[259,367,368,371,374],{},[262,369,370],{},"Opzione",[262,372,373],{},"Variabile d'ambiente",[262,375,376],{},"Descrizione",[272,378,379,394,409,426,443,460,477,492],{},[259,380,381,386,391],{},[277,382,383],{},[61,384,385],{},"auth.issuer",[277,387,388],{},[61,389,390],{},"NUXT_PUBLIC_AUTH_ISSUER",[277,392,393],{},"URL base del deployment del tuo Auth Service. Obbligatorio.",[259,395,396,401,406],{},[277,397,398],{},[61,399,400],{},"auth.audience",[277,402,403],{},[61,404,405],{},"NUXT_PUBLIC_AUTH_AUDIENCE",[277,407,408],{},"Audience attesa per gli access token. Obbligatorio.",[259,410,411,416,421],{},[277,412,413],{},[61,414,415],{},"auth.jwksUrl",[277,417,418],{},[61,419,420],{},"NUXT_PUBLIC_AUTH_JWKS_URL",[277,422,423,424,344],{},"Percorso al documento JWKS. Di default ",[61,425,80],{},[259,427,428,433,438],{},[277,429,430],{},[61,431,432],{},"auth.idToken.name",[277,434,435],{},[61,436,437],{},"NUXT_PUBLIC_AUTH_ID_TOKEN_NAME",[277,439,440,441,344],{},"Nome del cookie per l'ID token. Di default ",[61,442,284],{},[259,444,445,450,455],{},[277,446,447],{},[61,448,449],{},"auth.accessToken.name",[277,451,452],{},[61,453,454],{},"NUXT_PUBLIC_AUTH_ACCESS_TOKEN_NAME",[277,456,457,458,344],{},"Nome del cookie per l'access token. Di default ",[61,459,297],{},[259,461,462,467,472],{},[277,463,464],{},[61,465,466],{},"auth.refreshToken.name",[277,468,469],{},[61,470,471],{},"NUXT_AUTH_REFRESH_TOKEN_NAME",[277,473,474,475,344],{},"Nome del cookie per il refresh token. Di default ",[61,476,310],{},[259,478,479,484,489],{},[277,480,481],{},[61,482,483],{},"auth.refreshToken.expiresIn",[277,485,486],{},[61,487,488],{},"NUXT_AUTH_REFRESH_TOKEN_EXPIRES_IN",[277,490,491],{},"Scadenza (in secondi) usata per valutare la longevità del refresh token.",[259,493,494,499,504],{},[277,495,496],{},[61,497,498],{},"auth.apiToken",[277,500,501],{},[61,502,503],{},"NUXT_AUTH_API_TOKEN",[277,505,506,507,510],{},"Token macchina per l'accesso all'API dell'Auth Service (usato da ",[61,508,509],{},"createInvite",").",[46,512,514],{"id":513},"checklist-per-lo-sviluppo-usando-il-modulo","Checklist per lo sviluppo usando il modulo",[93,516,517,524,535],{},[54,518,519,520,523],{},"Configura i valori runtime tramite variabili d'ambiente in file ",[61,521,522],{},".env"," o segreti di deploy.",[54,525,526,527,530,531,534],{},"Conferma che i cookie siano emessi con gli attributi ",[61,528,529],{},"Secure"," e ",[61,532,533],{},"SameSite"," attesi per il tuo scenario di hosting.",[54,536,537],{},"Decidi come l'interfaccia gestisce i fallimenti di permesso (redirect vs. stato vuoto).",[46,539,541],{"id":540},"per-saperne-di-più","Per saperne di più",[51,543,544,550],{},[54,545,546,549],{},[235,547,238],{"href":548},"/it/auth-module/client-guide.md"," – lavorare con i composables, i flussi di login e i permessi in Vue.",[54,551,552,555],{},[235,553,243],{"href":554},"/it/auth-module/server-guide.md"," – utility Nitro, guardie per i permessi e helper di servizio.",[557,558,559],"style",{},"html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":111,"searchDepth":140,"depth":140,"links":561},[562,563,564,565,566,567,568],{"id":48,"depth":140,"text":49},{"id":87,"depth":140,"text":88},{"id":247,"depth":140,"text":248},{"id":319,"depth":140,"text":320},{"id":360,"depth":140,"text":361},{"id":513,"depth":140,"text":514},{"id":540,"depth":140,"text":541},"JAMflow Authentication and Authorization","md",[572],{"label":573,"to":574},"Auth Service","https://jamflow.cloud/auth-service",{},{"icon":13},{"title":10,"description":569},"bl36PrinKF8WKHRCOFH4gnohzkydGh2X9_0losa8mK0",[580,581],null,{"title":15,"path":16,"stem":17,"description":582,"icon":18,"children":-1},"Autenticazione e autorizzazione sul lato client",1760100566776]